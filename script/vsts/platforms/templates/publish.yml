parameters:
  # artifacts:
  # - fileName
  # - fileDir
  # - condition
  # - continueOnError
  - name: artifacts
    type: object

steps:
  - ${{ each artifact in parameters.artifacts }}:
    - task: PublishBuildArtifacts@1
      inputs:
        PathtoPublish: ${{artifact.fileDir}}/${{artifact.fileName}}
        ArtifactName: ${{artifact.fileName}}
        ArtifactType: Container
      displayName: Upload ${{artifact.fileName}}
      ${{ if artifact.condition }}:
        condition: ${{artifact.condition}}
      ${{ if artifact.continueOnError }}:
        continueOnError: ${{artifact.continueOnError}}
